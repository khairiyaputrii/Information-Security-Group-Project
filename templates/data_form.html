<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Data</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <nav class="bg-indigo-700 shadow-lg">
        <div class="container mx-auto">
            <div class="flex justify-between items-center p-3">
                <a href="#" class="text-white text-xl font-bold">FORM DATA</a>
                <!-- <form method="POST" action="/logout">
                    <button type="submit" class="text-white">Logout</button>
                </form> -->
                <div class="flex gap-3">
                    <form method="POST" action="/logout">
                        <button type="submit" style="background-color: red; color: white;padding: 5px 15px;border-radius: 5px;">Logout</button>
                    </form>
                    <form method="POST" action="/view_data">
                        <button type="submit" style="background-color: red; color: white;padding: 5px 15px;border-radius: 5px;">View</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>    
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="{{ message[1] }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <h1>Form Data</h1>
    <a href="/view_data">
        <button style="background-color: red; color: white;">View Data</button>
    </a>
    <form method="POST" action="/data_form" enctype="multipart/form-data">
        <label for="full_name">Full Name:</label>
        <input type="text" id="full_name" name="full_name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="phone_number">Phone Number (ex: 6281257414911):</label>
        <input type="tel" id="phone_number" name="phone_number" pattern="[0-9]{13}" required><br><br>

        <label for="last_education">Last Education:</label>
        <select id="last_education" name="last_education" required>
            <option value="SD">SD</option>
            <option value="SMP">SMP</option>
            <option value="SMA">SMA</option>
            <option value="S1">S1</option>
            <option value="S2">S2</option>
            <option value="S3">S3</option>
        </select><br><br>

        <!-- Add a file input field for PDF upload with a maximum size of 5MB -->
        <label for="pdf_upload">Upload PDF (max 5MB):</label>
        <input type="file" id="pdf_upload" name="pdf_upload" accept=".pdf" required><br><br>

        <!-- Add a file input field for Image upload with a maximum size of 10MB -->
        <label for="img_upload">Upload Image (max 10MB):</label>
        <input type="file" id="img_upload" name="img_upload" accept=".jpeg" required><br><br>

        <!-- Add a file input field for Video upload with a maximum size of 15MB -->
        <label for="video_upload">Upload Video (max 15MB):</label>
        <input type="file" id="video_upload" name="video_upload" accept=".mp4" required><br><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        function validateForm() {
            var pdfInput = document.getElementById("pdf_upload");
            var imgInput = document.getElementById("img_upload");
            var videoInput = document.getElementById("video_upload");

            // Maximum file sizes in bytes
            var maxPdfSize = 5 * 1024 * 1024; // 5MB
            var maxImgSize = 10 * 1024 * 1024; // 10MB
            var maxVideoSize = 15 * 1024 * 1024; // 15MB

            // Check PDF file size
            if (pdfInput.files.length > 0 && pdfInput.files[0].size > maxPdfSize) {
                alert("PDF file size exceeds the maximum allowed size (5MB).");
                return false;
            }

            // Check Image file size
            if (imgInput.files.length > 0 && imgInput.files[0].size > maxImgSize) {
                alert("Image file size exceeds the maximum allowed size (10MB).");
                return false;
            }

            // Check Video file size
            if (videoInput.files.length > 0 && videoInput.files[0].size > maxVideoSize) {
                alert("Video file size exceeds the maximum allowed size (15MB).");
                return false;
            }

            return true;
        }
    </script>
</body>
</html>
